<!DOCTYPE html> <html lang="en"> <head> 
  <meta charset="UTF-8" /> <meta 
  name="viewport" 
  content="width=device-width, 
  initial-scale=1.0" /> <title>YouTube Data 
  Viewer</title> <style>
    body { font-family: 'Roboto', 
      sans-serif; background: #f0f2f5; 
      margin: 0; padding: 20px;
    }
    .container { background: #ffffff; 
      padding: 30px; border-radius: 16px; 
      box-shadow: 0 4px 12px 
      rgba(0,0,0,0.1); max-width: 800px; 
      margin: auto;
    }
    h2 { color: #333; text-align: center; 
      margin-bottom: 25px; font-weight: 
      500;
    }
    h3 { color: #555; border-bottom: 2px 
        solid #eee; padding-bottom: 10px; 
        margin-top: 25px;
    }
    .input-group { margin-bottom: 20px;
    }
    label { display: block; margin-bottom: 
      8px; font-weight: 500; color: #555;
    }
    input[type="text"] { width: 100%; 
      padding: 12px; border: 1px solid 
      #ddd;
      border-radius: 8px; font-size: 16px; 
      box-sizing: border-box; transition: 
      border-color 0.3s;
    }
    input[type="text"]:focus { outline: 
      none; border-color: #1a73e8;
    }
    button { width: 100%; padding: 12px; 
      margin-top: 10px; border: none; 
      border-radius: 8px; font-size: 16px; 
      font-weight: bold; color: white; 
      background: #1a73e8; cursor: pointer; 
      transition: background 0.3s ease, 
      transform 0.1s;
    }
    button:hover { background: #155bb5;
    }
    button:active { transform: scale(0.99);
    }
    .data-section { background: #f9f9f9; 
      border-radius: 12px; padding: 20px; 
      margin-top: 20px; border: 1px solid 
      #e0e0e0;
    }
    .data-item { padding: 10px 0; 
      border-bottom: 1px solid #eee;
    }
    .data-item:last-child { border-bottom: 
      none;
    }
    .error { color: #d93025; background: 
        #fce8e6;
        padding: 10px; border-radius: 8px; 
        text-align: center; margin-top: 
        15px;
    }
    .success { color: #137333; background: 
        #e6f4ea;
        padding: 10px; border-radius: 8px; 
        text-align: center; margin-top: 
        15px;
    }
  </style> <script 
  src="https://apis.google.com/js/api.js"></script>
</head> <body> <div class="container"> 
    <h2>YouTube Data Viewer</h2> <p 
    style="text-align: center; color: 
    #666;">View public and private channel 
    data using YouTube API</p> <hr 
    style="border: 0; height: 1px; 
    background: #ddd; margin: 25px 0;"> 
    <h3>üîë Public Data Access</h3> <div 
    class="input-group">
      <label for="apiKey">YouTube API 
      Key:</label> <input type="text" 
      id="apiKey" 
      value="AIzaSyDnvWg3pTPMdZhnGvqEgFYPsYe_GdKu2cs" 
      placeholder="Paste your API Key here" 
      />
    </div> <div class="input-group"> <label 
      for="channelId">Channel ID or 
      @handle:</label> <input type="text" 
      id="channelId" placeholder="Example: 
      UC_x... or @NASA" />
    </div> <button 
    onclick="fetchPublicChannelData()">Get 
    Public Channel Info</button> <div 
    id="public-data-display" 
    class="data-section" 
    style="display:none;">
        <h3 
        style="border-bottom:none;">Channel 
        Details (Public)</h3> <p 
        id="public-channel-name"></p> <p 
        id="public-channel-subs"></p> <p 
        id="public-channel-views"></p> <p 
        id="public-channel-videos"></p>
    </div> <hr style="border: 0; height: 
    1px; background: #ddd; margin: 25px 
    0;"> <h3>üîê Private Data Access (OAuth 
    2.0)</h3> <div class="input-group">
      <label for="clientId">OAuth Client 
      ID:</label> <input type="text" 
      id="clientId" 
      value="722487958803-lqgp0nknafubk8agg3qg3m87o7gla2ll.apps.googleusercontent.com" 
      placeholder="Paste your OAuth Client 
      ID here" />
    </div> <button id="auth-button" 
    onclick="handleAuthClick()">Login with 
    Google</button> <button 
    id="signout-button" 
    onclick="handleSignoutClick()" 
    style="display:none;">Sign Out</button> 
    <div id="private-data-display" 
    class="data-section" 
    style="display:none;">
        <h3 style="border-bottom:none;">My 
        Channel Data (Private)</h3> <p 
        id="private-channel-name"></p> <p 
        id="private-channel-subs"></p> <p 
        id="private-channel-views"></p> <p 
        id="private-channel-videos"></p> 
        <h4 style="margin-top: 
        20px;">Channel Analytics</h4> <p 
        id="analytics-views"></p> <p 
        id="analytics-comments"></p> <p 
        id="analytics-likes"></p> <h4 
        style="margin-top: 20px;">Latest 
        Videos</h4> <ul 
        id="latest-videos-list" 
        style="list-style-type: none; 
        padding: 0;"></ul> <h4 
        style="margin-top: 
        20px;">Playlists</h4> <ul 
        id="playlists-list" 
        style="list-style-type: none; 
        padding: 0;"></ul>
    </div> <p id="status-message"></p> 
  </div> <script> const API_KEY = 
  document.getElementById('apiKey').value;
    const CLIENT_ID = 
    document.getElementById('clientId').value; 
    const DISCOVERY_DOCS = 
    ["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest", 
    "https://www.googleapis.com/discovery/v1/apis/youtubeAnalytics/v2/rest"]; 
    const SCOPES = 
    'https://www.googleapis.com/auth/youtube.readonly 
    https://www.googleapis.com/auth/yt-analytics.readonly'; 
    let auth2; function handleClientLoad() 
    {
      gapi.load('client:auth2', 
      initClient);
    }
    function initClient() { 
      gapi.client.init({
          apiKey: API_KEY, clientId: 
          CLIENT_ID, discoveryDocs: 
          DISCOVERY_DOCS, scope: SCOPES
      }).then(() => {
          auth2 = 
          gapi.auth2.getAuthInstance(); 
          auth2.isSignedIn.listen(updateSigninStatus); 
          updateSigninStatus(auth2.isSignedIn.get());
      }, err => {
          displayMessage('Error 
          initializing GAPI client. Check 
          your API Key and Client ID.', 
          'error'); console.error('Error 
          initializing GAPI client', err);
      });
    }
    function updateSigninStatus(isSignedIn) 
    {
      if (isSignedIn) { 
          document.getElementById('auth-button').style.display 
          = 'none'; 
          document.getElementById('signout-button').style.display 
          = 'block'; 
          document.getElementById('private-data-display').style.display 
          = 'block'; displayMessage('Login 
          successful! Fetching private 
          data...', 'success'); 
          fetchPrivateData();
      } else {
          document.getElementById('auth-button').style.display 
          = 'block'; 
          document.getElementById('signout-button').style.display 
          = 'none'; 
          document.getElementById('private-data-display').style.display 
          = 'none'; displayMessage('Please 
          login with Google for private 
          access.', 'info');
      }
    }
    function handleAuthClick() { 
      auth2.signIn();
    }
    function handleSignoutClick() { 
      auth2.signOut();
    }
    function displayMessage(message, type = 
    'info') {
      const statusElement = 
      document.getElementById('status-message'); 
      statusElement.textContent = message; 
      statusElement.className = type === 
      'error' ? 'error' : (type === 
      'success' ? 'success' : '');
    }
    // --- Public Data Function ---
    async function fetchPublicChannelData() 
    {
        const channelId = 
        document.getElementById('channelId').value; 
        const apiKey = 
        document.getElementById('apiKey').value; 
        if (!apiKey || !channelId) {
            displayMessage("Please enter 
            both API Key and Channel ID.", 
            'error'); return;
        }
        try { const response = await 
            fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${channelId}&key=${apiKey}`); 
            const data = await 
            response.json(); if (data.items 
            && data.items.length > 0) {
                const channel = 
                data.items[0]; const 
                snippet = channel.snippet; 
                const stats = 
                channel.statistics; 
                document.getElementById('public-channel-name').innerHTML 
                = `<strong>Channel 
                Name:</strong> 
                ${snippet.title}`; 
                document.getElementById('public-channel-subs').innerHTML 
                = 
                `<strong>Subscribers:</strong> 
                ${parseInt(stats.subscriberCount).toLocaleString()}`; 
                document.getElementById('public-channel-views').innerHTML 
                = `<strong>Total 
                Views:</strong> 
                ${parseInt(stats.viewCount).toLocaleString()}`; 
                document.getElementById('public-channel-videos').innerHTML 
                = `<strong>Video 
                Count:</strong> 
                ${parseInt(stats.videoCount).toLocaleString()}`; 
                document.getElementById('public-data-display').style.display 
                = 'block'; 
                displayMessage("Public 
                channel data fetched 
                successfully!", 'success');
            } else {
                displayMessage("No data 
                found for this channel 
                ID.", 'error'); 
                document.getElementById('public-data-display').style.display 
                = 'none';
            }
        }          catch (error) {
            displayMessage("Error fetching 
            public data. Check your API Key 
            and Channel ID.", 'error'); 
            console.error('Public data 
            fetch error:', error); 
            document.getElementById('public-data-display').style.display 
            = 'none';
        }
    }
    // --- Private Data Functions ---
    async function fetchPrivateData() { try 
        {
            const response = await 
            gapi.client.youtube.channels.list({
                'part': 
                'snippet,statistics,contentDetails', 
                'mine': true
            });
            const channel = 
            response.result.items[0]; const 
            channelId = channel.id;
            // Display Channel Info
            const snippet = 
            channel.snippet; const stats = 
            channel.statistics; 
            document.getElementById('private-channel-name').innerHTML 
            = `<strong>Channel 
            Name:</strong> 
            ${snippet.title}`; 
            document.getElementById('private-channel-subs').innerHTML 
            = 
            `<strong>Subscribers:</strong> 
            ${parseInt(stats.subscriberCount).toLocaleString()}`; 
            document.getElementById('private-channel-views').innerHTML 
            = `<strong>Total 
            Views:</strong> 
            ${parseInt(stats.viewCount).toLocaleString()}`; 
            document.getElementById('private-channel-videos').innerHTML 
            = `<strong>Video 
            Count:</strong> 
            ${parseInt(stats.videoCount).toLocaleString()}`; 
            fetchLatestVideos(channel.contentDetails.relatedPlaylists.uploads); 
            fetchPlaylists(); 
            fetchAnalytics(channelId);
        } catch (err) {
            displayMessage('Error fetching 
            private channel data.', 
            'error'); 
            console.error('Private channel 
            data error:', err);
        }
    }
    async function 
    fetchLatestVideos(uploadsPlaylistId) {
        try { const response = await 
            gapi.client.youtube.playlistItems.list({
                'playlistId': 
                uploadsPlaylistId, 'part': 
                'snippet', 'maxResults': 5
            });
            const videos = 
            response.result.items; const 
            list = 
            document.getElementById('latest-videos-list'); 
            list.innerHTML = ''; 
            videos.forEach(item => {
                const li = 
                document.createElement('li'); 
                li.innerHTML = `<div 
                class="data-item"><strong>${item.snippet.title}</strong></div>`; 
                list.appendChild(li);
            });
        } catch (err) {
            console.error('Error fetching 
            latest videos:', err);
        }
    }
    async function fetchPlaylists() { try { 
            const response = await 
            gapi.client.youtube.playlists.list({
                'part': 'snippet', 'mine': 
                true, 'maxResults': 5
            });
            const playlists = 
            response.result.items; const 
            list = 
            document.getElementById('playlists-list'); 
            list.innerHTML = ''; 
            playlists.forEach(item => {
                const li = 
                document.createElement('li'); 
                li.innerHTML = `<div 
                class="data-item"><strong>${item.snippet.title}</strong></div>`; 
                list.appendChild(li);
            });
        } catch (err) {
            console.error('Error fetching 
            playlists:', err);
        }
    }
    async function 
    fetchAnalytics(channelId) {
        try {
            // Get data for the last 30 
            // days
            const today = new Date(); const 
            thirtyDaysAgo = new 
            Date(today.setDate(today.getDate() 
            - 30)).toISOString().slice(0, 
            10); const endDate = new 
            Date().toISOString().slice(0, 
            10); const response = await 
            gapi.client.youtubeAnalytics.reports.query({
                'ids': 
                `channel==${channelId}`, 
                'startDate': thirtyDaysAgo, 
                'endDate': endDate, 
                'metrics': 
                'views,comments,likes', 
                'dimensions': 'day'
            });
            const analytics = 
            response.result.rows.reduce((acc, 
            row) => {
                acc.views += row[1]; 
                acc.comments += row[2]; 
                acc.likes += row[3]; return 
                acc;
            }, { views: 0, comments: 0, 
            }likes: 0 });
            document.getElementById('analytics-views').innerHTML 
            = `<strong>Total Views (last 30 
            days):</strong> 
            ${analytics.views.toLocaleString()}`; 
            document.getElementById('analytics-comments').innerHTML 
            = `<strong>Total Comments (last 
            30 days):</strong> 
            ${analytics.comments.toLocaleString()}`; 
            document.getElementById('analytics-likes').innerHTML 
            = `<strong>Total Likes (last 30 
            days):</strong> 
            ${analytics.likes.toLocaleString()}`;
        } catch (err) {
            console.error('Error fetching 
            analytics data:', err);
        }
    }
    // Initialize the API
    window.onload = handleClientLoad; 
  </script>
</body> </html>
